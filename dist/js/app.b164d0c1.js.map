{"version":3,"file":"js/app.b164d0c1.js","mappings":"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","sources":["webpack://electron-quick-start/./src/http/index.ts","webpack://electron-quick-start/./src/App.vue?cb76","webpack://electron-quick-start/./src/App.vue","webpack://electron-quick-start/./src/main.ts","webpack://electron-quick-start/webpack/bootstrap","webpack://electron-quick-start/webpack/runtime/chunk loaded","webpack://electron-quick-start/webpack/runtime/compat get default export","webpack://electron-quick-start/webpack/runtime/define property getters","webpack://electron-quick-start/webpack/runtime/global","webpack://electron-quick-start/webpack/runtime/hasOwnProperty shorthand","webpack://electron-quick-start/webpack/runtime/make namespace object","webpack://electron-quick-start/webpack/runtime/jsonp chunk loading","webpack://electron-quick-start/webpack/startup"],"sourcesContent":["/*\n * @Author: smilexxy15050618 smilexxy15050618@126.com\n * @Date: 2022-11-17 19:27:00\n * @LastEditors: smilexxy15050618 smilexxy15050618@126.com\n * @LastEditTime: 2022-11-25 17:15:02\n * @FilePath: /Vue3.0VideoUpload/src/http/index.ts\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nimport axios from 'axios'\nimport { ref } from 'vue'\n\nconst json = ref(\"/json\")\n//const http = ref(\"http://192.168.1.101\")\n\nconst http = ref(\"/oauth2\") //前端配置了跨域的话则为这个\n\n\n// export const getFlowers = (parms: {}) => {\n//     console.log(parms);\n//     return axios.post(http.value + '/HIV/Article/UploadVideo', parms)\n// }\n// 获取token\nexport const getAccessToken = () => {\n    // return axios.get(\"/api/oauth2/access_token?app_id=ks677510272632699148&app_secret=WXjAcWmNKOcOvhx5ZWAagw&grant_type=client_credentials\")\n    return axios.get(\"http://10.200.148.186:9094/ksAccessToken?app_id=ks677510272632699148&app_secret=WXjAcWmNKOcOvhx5ZWAagw&grant_type=client_credentials\")\n}\n\n// 申请上传\nexport const postApplyUpload = (parms: string) => {\n    // return axios.post(`/api/openapi/mp/developer/video/upload/apply?app_id=ks677510272632699148&access_token=${parms}`)\n    return axios.post(`http://10.200.148.186:9094/ksApply?app_id=ks677510272632699148&access_token=${parms}`)\n}\n// 上传图片-整片上传\nexport const uploadAjax = (formdata: any, params: any) => {\n    \n    return axios({\n        method: 'post',\n        url: `http://${params.endpoint}/api/upload?upload_token=${params.upload_token}`,\n        data: formdata,\n        headers: {\n          'Content-Type': '-',\n        }\n    })\n}\n\n// 上传图片-分片上传\nexport const fragmentUploadAjax = (formdata: any, index: any, params: any) => {\n    \n    return axios({\n        method: 'post',\n        url: `http://${params.endpoint}/api/upload/fragment?fragment_id=${index}&upload_token=${params.upload_token}`,\n        data: formdata,\n        headers: {\n          'Content-Type': '-',\n        }\n    })\n}\n\n// 上传图片-提交分片\nexport const completeUploadAjax = (formdata: any, params: any) => {\n    \n    return axios({\n        method: 'post',\n        url: `http://${params.endpoint}/api/upload/fragment?upload_token=${params.upload_token}`,\n        data: formdata,\n        headers: {\n          'Content-Type': '-',\n        }\n    })\n}\n\n// 上传完成\nexport const PostPublishUpload = (access_token: string, upload_token: string) => {\n    // return axios.post(`/api/openapi/mp/developer/video/upload/publish?app_id=ks677510272632699148&access_token=${access_token}&upload_token=${upload_token}`)\n    return axios.post(`http://10.200.148.186:9094/ksPublish?app_id=ks677510272632699148&access_token=${access_token}&upload_token=${upload_token}`)\n}\n\n// 渠道上传视频返回id映射回调\nexport const GetMapping = (params: any) => {\n\n    return axios.get(`http://coapiwebsit.cnsuning.com/coapi-web/api/vid/mapping/callback?channelId=${params.channelId}&vid=${params.vid}&pid=${params.pid}&customVid=${params.customVid}`)\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, unref as _unref, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"el-upload__text\" }, [\n  /*#__PURE__*/_createElementVNode(\"em\", null, \"单击文件上传\")\n], -1)\nconst _hoisted_2 = {\n  class: \"demo-progress\",\n  style: {\"max-width\":\"460px\",\"margin\":\"auto\"}\n}\n\nimport { ref } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport { getAccessToken, postApplyUpload, uploadAjax, PostPublishUpload, GetMapping } from './http/index'\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'App',\n  setup(__props) {\n\nconst formLabelAlign = ref()\nconst ruleUpload = ref(null)\nformLabelAlign.value = {\n  channelId: '253345',\n  vid: '',\n  pid: '',\n  customVid: ''\n}\n\nconst fpdx = 10*1024*1024 //分片大小\nlet loadNumber = ref<number>()\nconst onUpload = async (file: any) =>{\n  const fileSize = file.size\n  let zfp = Math.ceil(fileSize / fpdx) //总分片\n  if(fileSize < fpdx){\n    zfp = 1\n  }\n  console.log(\"总分片\"+zfp)\n  for (let index = 0; index < zfp; index++) {\n    console.log('----file----',file)\n    const start = index*fpdx //分片结束\n    const end =  Math.min(fileSize, start + fpdx) // 分片结束\n    const _chunkFile = file.raw.slice(start,end) // 分片文件\n    const formdata = new FormData()\n    formdata.append('data', _chunkFile) //分片文件数据\n    formdata.append('lastModified', file.uid)  //文件uid\n    formdata.append('total', zfp.toString())  //总分片大小\n    formdata.append('fileName', file.name)  //文件名称\n    formdata.append('index', (index).toString())  //当前分片\n    console.log(`\"上传第N个分片 ${index}`);\n    // 获取token\n    let res = await getAccessToken();\n    if(res.data.result == 1){\n      // 申请上传\n      let applyUpload = await postApplyUpload(res.data.access_token)\n      if(applyUpload.data.result == 1){\n        // if(zfp == 1){\n          // 整片上传\n          let uploadCallBack = await uploadAjax(file,applyUpload.data.data)\n          if(uploadCallBack.data.result == 1){\n            // 上传完成\n            let PublishUpload = await PostPublishUpload(res.data.access_token,applyUpload.data.data.upload_token)\n            if(PublishUpload.data.result == 1){\n              formLabelAlign.value.customVid = PublishUpload.data.data.videoId\n            }\n          }\n        // }\n      }\n    }\n    loadNumber.value = parseFloat((((index+1)/zfp)*100).toFixed(2))\n  }\n}\n\n// 超出限制执行的函数\nconst handleExceed = (files: any) => {\n  ElMessage.warning(\n    `每次只允许上传一个视频, 您选择了 ${files.length} 个视频，请修改`\n  )\n}\n\n// 上传成功\nconst handleSuccess = () => {\n  console.log('上传成功')\n  formLabelAlign.value = {\n    channelId: '253345',\n    vid: '',\n    pid: '',\n    customVid: ''\n  }\n  // 清空上传文件\n  ruleUpload.value.clearFiles()\n  loadNumber.value = 0\n}\n\n\n// 创建\nconst submitForm = async () => {\n  console.log('submitForm',formLabelAlign.value)\n  if(formLabelAlign.value.vid == '' && formLabelAlign.value.pid==''){\n    ElMessage.warning('请填写vid或pid')\n  } else if(formLabelAlign.value.vid && formLabelAlign.value.pid){\n    alert('vid，pid只能选一个填')\n    ElMessage.warning('vid，pid只能选一个填')\n  } else if(formLabelAlign.value.customVid == ''){\n    ElMessage.warning('请上传视频')\n  } else {\n    let res = await GetMapping(formLabelAlign.value)\n    if(res.data.msg == 'success'){\n      ElMessage.success('成功')\n      setTimeout(()=>{\n        formLabelAlign.value = {\n          channelId: '253345',\n          vid: '',\n          pid: '',\n          customVid: ''\n        }\n        // 清空上传文件\n        ruleUpload.value.clearFiles()\n        loadNumber.value = 0\n      },500)\n    }\n  }\n}\n\n// 重置\nconst resetForm = () => {\n  formLabelAlign.value = {\n    channelId: '253345',\n    vid: '',\n    pid: '',\n    customVid: ''\n  }\n\n  // 清空上传文件\n  ruleUpload.value.clearFiles()\n  loadNumber.value = 0\n  \n  console.log('resetForm',formLabelAlign.value)\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_upload_filled = _resolveComponent(\"upload-filled\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_upload = _resolveComponent(\"el-upload\")!\n  const _component_el_progress = _resolveComponent(\"el-progress\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n\n  return (_openBlock(), _createBlock(_component_el_form, {\n    \"label-position\": _ctx.labelPosition,\n    \"label-width\": \"100px\",\n    model: formLabelAlign.value,\n    style: {\"max-width\":\"460px\",\"margin\":\"auto\"}\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_el_form_item, { label: \"Vid\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_input, {\n            modelValue: formLabelAlign.value.vid,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((formLabelAlign.value.vid) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_form_item, { label: \"Pid\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_input, {\n            modelValue: formLabelAlign.value.pid,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((formLabelAlign.value.pid) = $event))\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_el_upload, {\n        class: \"upload-demo\",\n        drag: true,\n        action: \"\",\n        ref_key: \"ruleUpload\",\n        ref: ruleUpload,\n        limit: 1,\n        multiple: true,\n        \"on-change\": onUpload,\n        \"on-exceed\": handleExceed,\n        \"on-success\": handleSuccess,\n        \"auto-upload\": false,\n        style: {\"max-width\":\"460px\",\"margin\":\"auto\"}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_icon, { class: \"el-icon--upload\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_upload_filled)\n            ]),\n            _: 1\n          }),\n          _hoisted_1\n        ]),\n        _: 1\n      }, 512),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_el_progress, { percentage: _unref(loadNumber) }, null, 8, [\"percentage\"])\n      ]),\n      _createVNode(_component_el_form_item, { style: {\"margin-top\":\"20px\"} }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: submitForm\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Create\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, { onClick: resetForm }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Reset\")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"label-position\", \"model\"]))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./App.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./App.vue?vue&type=style&index=0&id=20af6a05&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","/*\n * @Author: smilexxy15050618 smilexxy15050618@126.com\n * @Date: 2022-11-17 19:27:00\n * @LastEditors: smilexxy15050618 smilexxy15050618@126.com\n * @LastEditTime: 2022-11-23 16:14:58\n * @FilePath: /Vue3.0VideoUpload/src/main.ts\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue'\n\nconst app = createApp(App)\n\napp.use(ElementPlus)\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n  app.component(key, component)\n}\n\napp.mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkelectron_quick_start\"] = self[\"webpackChunkelectron_quick_start\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2136); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["ref","getAccessToken","axios","postApplyUpload","parms","uploadAjax","formdata","params","method","url","endpoint","upload_token","data","headers","PostPublishUpload","access_token","GetMapping","channelId","vid","pid","customVid","_hoisted_1","_createElementVNode","class","_hoisted_2","style","_defineComponent","__name","setup","__props","formLabelAlign","ruleUpload","value","fpdx","loadNumber","onUpload","async","fileSize","file","size","zfp","Math","ceil","console","log","index","start","end","min","_chunkFile","raw","slice","FormData","append","uid","toString","name","res","result","applyUpload","uploadCallBack","PublishUpload","videoId","parseFloat","toFixed","handleExceed","files","ElMessage","length","handleSuccess","clearFiles","submitForm","alert","msg","setTimeout","resetForm","_ctx","_cache","_component_el_input","_resolveComponent","_component_el_form_item","_component_upload_filled","_component_el_icon","_component_el_upload","_component_el_progress","_component_el_button","_component_el_form","_openBlock","_createBlock","labelPosition","model","default","_withCtx","_createVNode","label","modelValue","$event","_","drag","action","ref_key","limit","multiple","percentage","_unref","type","onClick","_createTextVNode","__exports__","app","createApp","App","use","ElementPlus","key","component","Object","entries","ElementPlusIconsVue","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}